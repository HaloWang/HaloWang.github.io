<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç‹ç­–çš„åšå®¢</title>
  <subtitle>ä¸€ä¸ª iOS å¼€å‘è€…</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-03-28T08:59:54.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>WangCe</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Halo.framework</title>
    <link href="http://yoursite.com/2016/03/09/introduction-of-Halo/"/>
    <id>http://yoursite.com/2016/03/09/introduction-of-Halo/</id>
    <published>2016-03-09T14:46:39.000Z</published>
    <updated>2016-03-28T08:59:54.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h3&gt;&lt;p&gt;Halo æ˜¯æˆ‘ä½¿ç”¨ Swift å¼€å‘ iOS åº”ç”¨ä¸€å¹´ä¸‹æ¥æ‰€ç§¯ç´¯çš„ä¸€ä¸ªå·¥å…·åº“ï¼ˆå½“ç„¶ä¹Ÿä¼šæœ‰äº›ä»¥å‰ ObjC çš„â€œé—è€â€ï¼‰ï¼Œè¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä¼šç®€å•è¯´æ˜ä¸€ä¸‹è‡ªå·±æ˜¯å¦‚ä½•è®¾è®¡å¹¶ä½¿ç”¨ Halo çš„&lt;/p&gt;
&lt;p&gt;Halo çš„åå­—å–è‡ªä¸€æ¬¾å«åš &lt;a href=&quot;https://www.halowaypoint.com/en-us&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HALO&lt;/a&gt; çš„æ¸¸æˆã€‚æˆ‘æ¯”è¾ƒå–œæ¬¢è¿™æ¬¾æ¸¸æˆå®å¤§çš„èƒŒæ™¯ï¼Œæ‰€ä»¥å°±å«åšè¿™ä¸ªåå­—äº†&lt;/p&gt;
&lt;h3 id=&quot;Tips&quot;&gt;&lt;a href=&quot;#Tips&quot; class=&quot;headerlink&quot; title=&quot;Tips&quot;&gt;&lt;/a&gt;Tips&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Halo ä½¿ç”¨ Swift ç¼–å†™ï¼Œä»…æ”¯æŒ iOS å¹³å°&lt;/li&gt;
&lt;li&gt;å·²ä¸Šä¼ è‡³&lt;a href=&quot;https://github.com/HaloWang/Halo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥ç©ç©çœ‹ï¼ˆåœ¨ HaloDemo è¿™ä¸ª Target ä¸­ï¼‰~&lt;/li&gt;
&lt;li&gt;&lt;del&gt;æˆ‘ä½¿ç”¨ &lt;a href=&quot;https://github.com/Carthage/Carthage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Carthage&lt;/a&gt;(carthage build â€“no-skip-current) å°†è‡ªå·±çš„ Halo æ‰“åŒ…æˆ framework é›†æˆè¿›è‡ªå·±çš„é¡¹ç›®ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ cocoapodsï¼‰&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;æˆ‘ç°åœ¨ä½¿ç”¨ cocoapods å°† Halo é›†æˆè¿›è‡ªå·±çš„é¡¹ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;é“¾å¼è¯­æ³•&quot;&gt;&lt;a href=&quot;#é“¾å¼è¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;é“¾å¼è¯­æ³•&quot;&gt;&lt;/a&gt;é“¾å¼è¯­æ³•&lt;/h4&gt;&lt;p&gt;Halo ä¸­å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯ä¸ºäº†å®ç°é“¾å¼è¯­æ³•ï¼Œæˆ–è€…å¸¦æœ‰é“¾å¼è¯­æ³•çš„ç‰¹æ€§&lt;/p&gt;
&lt;p&gt;éé“¾å¼è¯­æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;object.propertyA = valueA
object.propertyB = valueB
object.propertyC = valueC
object.propertyD = valueD
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é“¾å¼è¯­æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;object
    .propertyA(valueA)
    .propertyB(valueB)
    .propertyC(valueC)
    .propertyD(valueD)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ•ˆæœå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/image_002/ChainableMethods.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™æ ·ä½œçš„ä¸»è¦åŸå› æ˜¯ï¼š&lt;br&gt;&lt;strong&gt;ä¸å–œæ¬¢åœ¨è®¾ç½® object çš„è‹¥å¹²å±æ€§æ—¶æ¯æ¬¡éƒ½è¦å¤šå†™ä¸€ä¸ª object&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•çš„åŸºæœ¬å®ç°ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;extension Class {
    //    Chainable method of property
    func property(property: propertyType) -&amp;gt; Self {
        self.property = property
        return self
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;Halo-è¯¦ç»†ä»‹ç»&quot;&gt;&lt;a href=&quot;#Halo-è¯¦ç»†ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;Halo è¯¦ç»†ä»‹ç»&quot;&gt;&lt;/a&gt;Halo è¯¦ç»†ä»‹ç»&lt;/h3&gt;&lt;p&gt;Halo.framework å·¥ç¨‹ç›®å½•å¦‚ä¸‹å›¾ï¼š&lt;br&gt;&lt;img src=&quot;/image_002/proj.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;æ¥ä¸‹æ¥çš„æ—¶é—´ï¼Œæˆ‘ä¼šä»‹ç»ä¸€ä¸‹ Source ç›®å½•ä¸‹å„ä¸ªæ–‡ä»¶å®ç°çš„ä¸»è¦åŠŸèƒ½&lt;/p&gt;
&lt;h4 id=&quot;Swift-Halo&quot;&gt;&lt;a href=&quot;#Swift-Halo&quot; class=&quot;headerlink&quot; title=&quot;Swift+Halo&quot;&gt;&lt;/a&gt;Swift+Halo&lt;/h4&gt;&lt;h5 id=&quot;CGFloatable-swift&quot;&gt;&lt;a href=&quot;#CGFloatable-swift&quot; class=&quot;headerlink&quot; title=&quot;CGFloatable.swift&quot;&gt;&lt;/a&gt;CGFloatable.swift&lt;/h5&gt;&lt;p&gt;è¯¥æ–‡ä»¶æä¾›äº†ä¸€ä¸ª&lt;code&gt;CGFloatable&lt;/code&gt;åè®®ï¼Œä¸»è¦æ˜¯è§‰å¾—åœ¨ Swift ç¼–è¯‘å™¨æ€»æ˜¯è®¤ä¸º â€œ1â€ æ˜¯&lt;code&gt;Int&lt;/code&gt;å€¼ï¼Œå’Œ&lt;code&gt;CGFloat&lt;/code&gt;æ•°æ®ä½¿ç”¨æ—¶æ€»ä¼šå‡ºå…ˆç¼–è¯‘é”™è¯¯ã€‚æ‰€ä»¥ä¸º&lt;code&gt;Int&lt;/code&gt;ã€&lt;code&gt;Double&lt;/code&gt;ã€&lt;code&gt;Float&lt;/code&gt;å®ç°äº†&lt;code&gt;CGFloatable&lt;/code&gt;åè®®ï¼Œé€šè¿‡ &lt;code&gt;.f&lt;/code&gt; çš„å½¢å¼å¿«é€Ÿè½¬åŒ–ä¸º&lt;code&gt;CGFloat&lt;/code&gt;ï¼ˆè€Œä¸æ˜¯éº»çƒ¦çš„ &lt;code&gt;CGFloat(X)&lt;/code&gt;ï¼‰&lt;br&gt;åŒæ—¶åœ¨æ­¤åŸºç¡€ä¸Šï¼Œä½¿ç”¨ç¡¬ç¼–ç å¯¹å±å¹•é€‚é…åšäº†ä¸€äº›å¤„ç†&lt;/p&gt;
&lt;h5 id=&quot;GCD-Halo-swift&quot;&gt;&lt;a href=&quot;#GCD-Halo-swift&quot; class=&quot;headerlink&quot; title=&quot;GCD+Halo.swift&quot;&gt;&lt;/a&gt;GCD+Halo.swift&lt;/h5&gt;&lt;p&gt;å¿«é€Ÿè°ƒç”¨ GCDï¼Œä½†æ˜¯ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¥½çš„&lt;a href=&quot;https://github.com/duemunk/Async&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®ç°&lt;/a&gt;äº†&lt;br&gt;æˆ‘ç»å¸¸ä¼šè¿™æ ·å†™ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Async {

    //  å¤æ‚è€—æ—¶ä»»åŠ¡...

    Last {
        //  æ›´æ–° UI
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ–è€…ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;After(second: 2) {
    //    åšæŸäº‹
}
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&quot;Print-Halo-swift&quot;&gt;&lt;a href=&quot;#Print-Halo-swift&quot; class=&quot;headerlink&quot; title=&quot;Print+Halo.swift&quot;&gt;&lt;/a&gt;Print+Halo.swift&lt;/h5&gt;&lt;p&gt;é€šè¿‡&lt;code&gt;ccRight&lt;/code&gt;ã€&lt;code&gt;ccWarning&lt;/code&gt;ã€&lt;code&gt;ccError&lt;/code&gt;è¾“å‡ºè¡¨æƒ…ç¬¦å·æ–¹ä¾¿è°ƒè¯•&lt;br&gt;ä¹‹åæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°è¾“å‡ºåƒè¿™æ ·çš„ä¸œè¥¿ï¼š&lt;br&gt;&lt;img src=&quot;/image_002/log.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;UIKit-Halo&quot;&gt;&lt;a href=&quot;#UIKit-Halo&quot; class=&quot;headerlink&quot; title=&quot;UIKit+Halo&quot;&gt;&lt;/a&gt;UIKit+Halo&lt;/h4&gt;&lt;p&gt;è¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥ &lt;code&gt;extension&lt;/code&gt; çš„å½¢å¼å¤§é‡çš„å®ç°äº† UIKit ä¸€äº›å¸¸ç”¨æ§ä»¶çš„é“¾å¼è¯­æ³•ï¼Œä»¥æ–¹ä¾¿æ—¥å¸¸å¼€å‘çš„ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›è¾¹è¾¹è§’è§’çš„ä¸œè¥¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;UITableView/UICollectionView åˆ©ç”¨æ³›å‹å¿«é€Ÿæ³¨å†Œ/é‡ç”¨å•å…ƒæ ¼æ–¹æ³•&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Hex å€¼åˆå§‹åŒ– UIColor&lt;/li&gt;
&lt;li&gt;UIImageé™æ€æ¨¡ç³Š&lt;/li&gt;
&lt;li&gt;UIView æˆªå±&lt;/li&gt;
&lt;li&gt;æ–‡æœ¬æ˜¾ç¤ºæ‰€éœ€é«˜åº¦è®¡ç®—&lt;/li&gt;
&lt;li&gt;UIAlertController å°è£…&lt;br&gt;â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;KeyboardObserver&quot;&gt;&lt;a href=&quot;#KeyboardObserver&quot; class=&quot;headerlink&quot; title=&quot;KeyboardObserver&quot;&gt;&lt;/a&gt;KeyboardObserver&lt;/h4&gt;&lt;p&gt;å®ç°è¿™ä¸ªç±»ä¸»è¦æ˜¯åŸæ¥æ¯æ¬¡åœ¨ä¸åŒ &lt;code&gt;UIViewController&lt;/code&gt; ä¸­å¤„ç†é”®ç›˜äº‹ä»¶ï¼Œå†™äº†å¾ˆå¤šé‡å¤ä»£ç ï¼Œè¢«æ¶å¿ƒåˆ°äº†(-_-!)&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨ ViewController ç±»ä¸­ç›‘å¬é”®ç›˜é«˜åº¦ï¼Œåªéœ€è¦è®¾ç½®ï¼ˆæˆ‘é€šå¸¸åœ¨ viewDidLoad æ–¹æ³•ä¸­ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;KeyboardObserver.delegate = self
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è®© ViewController å®ç°ç›¸å…³åè®®ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// MARK: - KeyboardObserverDelegate
extension ViewController : KeyboardObserverDelegate {
    func keyboardWillChangeToHeight(height: CGFloat, duration: NSTimeInterval) {
        //    height å°±æ˜¯é”®ç›˜å³å°†æ”¹å˜åˆ°çš„é«˜åº¦
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä½ è¿˜æƒ³ä½¿ç”¨ Halo å¯¹ &lt;code&gt;UIScrollView&lt;/code&gt; çš„æ‹“å±•ï¼Œå†è°ƒç”¨ä¸€ä¸‹ &lt;code&gt;insetBottom()&lt;/code&gt; å°±å¯ä»¥æ–¹ä¾¿å¿«æ·çš„å®ç°é”®ç›˜é«˜åº¦å˜åŒ–çš„å“åº”äº†~&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func keyboardWillChangeToHeight(height: CGFloat, duration: NSTimeInterval) 
    scrollView.insetBottom(height)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;PSï¼šæ–¹ä¾¿å½’æ–¹ä¾¿ï¼Œä½†æ˜¯è¿™ä¸ªç±»çš„æˆ‘å†™çš„æœ‰ç‚¹ä¹±ï¼Œæœ‰æœºä¼šä¸€å®šå¥½å¥½æ•´ç†ä¸€ä¸‹ï¼&lt;/p&gt;
&lt;h4 id=&quot;æ–¹åœ†ï¼ˆFangYuanï¼‰&quot;&gt;&lt;a href=&quot;#æ–¹åœ†ï¼ˆFangYuanï¼‰&quot; class=&quot;headerlink&quot; title=&quot;æ–¹åœ†ï¼ˆFangYuanï¼‰&quot;&gt;&lt;/a&gt;æ–¹åœ†ï¼ˆFangYuanï¼‰&lt;/h4&gt;&lt;p&gt;ä¸€å¥—å¾®å‹å¸ƒå±€åº“ï¼Œä½¿ç”¨&lt;code&gt;UIView.frame&lt;/code&gt;è¿›è¡Œå¸ƒå±€ï¼ŒåŠŸèƒ½ç®€å•ï¼Œä¸Šæ‰‹å¿«é€Ÿï¼&lt;/p&gt;
&lt;h5 id=&quot;æˆ‘æ˜¯è¿™æ ·æƒ³çš„&quot;&gt;&lt;a href=&quot;#æˆ‘æ˜¯è¿™æ ·æƒ³çš„&quot; class=&quot;headerlink&quot; title=&quot;æˆ‘æ˜¯è¿™æ ·æƒ³çš„&quot;&gt;&lt;/a&gt;æˆ‘æ˜¯è¿™æ ·æƒ³çš„&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä»»ä½•ä¸€ä¸ª&lt;code&gt;UIView&lt;/code&gt;ï¼Œæˆ‘ä»¬çŸ¥é“å…¶åœ¨ X è½´ä¸Šçš„&lt;code&gt;å®½åº¦&lt;/code&gt;ã€&lt;code&gt;&amp;lt;å·¦è¾¹-çˆ¶è§†å›¾å·¦è¾¹&amp;gt;è·ç¦»&lt;/code&gt;ã€&lt;code&gt;&amp;lt;å³è¾¹-çˆ¶è§†å›¾å³è¾¹&amp;gt;è·ç¦»&lt;/code&gt;ä¸­çš„ä»»æ„ä¸¤è€…ï¼Œå³å¯ç¡®å®š&lt;code&gt;UIView.frame.origin.x&lt;/code&gt;å’Œ&lt;code&gt;UIView.frame.size.width&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä»»ä½•ä¸€ä¸ª&lt;code&gt;UIView&lt;/code&gt;ï¼Œæˆ‘ä»¬çŸ¥é“å…¶åœ¨ Y è½´ä¸Šçš„&lt;code&gt;é«˜åº¦&lt;/code&gt;ã€&lt;code&gt;&amp;lt;ä¸Šè¾¹-çˆ¶è§†å›¾ä¸Šè¾¹&amp;gt;è·ç¦»&lt;/code&gt;ã€&lt;code&gt;&amp;lt;ä¸‹è¾¹-ä¸‹è§†å›¾å³è¾¹&amp;gt;è·ç¦»&lt;/code&gt;ä¸­çš„ä»»æ„ä¸¤è€…ï¼Œå³å¯ç¡®å®š&lt;code&gt;UIView.frame.origin.y&lt;/code&gt;å’Œ&lt;code&gt;UIView.frame.size.height&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é€šè¿‡å‰ä¸¤æ­¥ï¼Œå³å¯ç¡®å®šè¯¥&lt;code&gt;UIView&lt;/code&gt;çš„&lt;code&gt;frame&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;äºˆä»¥å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;ç®€å•å±•ç¤º&quot;&gt;&lt;a href=&quot;#ç®€å•å±•ç¤º&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•å±•ç¤º&quot;&gt;&lt;/a&gt;ç®€å•å±•ç¤º&lt;/h5&gt;&lt;p&gt;å‡è®¾æˆ‘ä»¬æƒ³è¾¾åˆ°è¿™æ ·çš„éœ€æ±‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1ã€testView_A
    è·ç¦»é¡¶éƒ¨30ï¼Œè·ç¦»å³ä¾§30ï¼Œé«˜åº¦ä¸º100ï¼Œè·ç¦»å·¦ä¾§30
2ã€testView_B
    è·ç¦» testView_A çš„åº•éƒ¨ 25
    è·ç¦» superView å·¦ä¾§çš„è·ç¦»ç­‰äº testView_A è·ç¦» superView å·¦ä¾§çš„è·ç¦»
    è·ç¦» superView å³ä¾§çš„è·ç¦»ç­‰äº testView_A è·ç¦» superView å³ä¾§çš„è·ç¦» + 10
    è·ç¦» superView åº•éƒ¨çš„è·ç¦»ç­‰äº 30
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ•ˆæœå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/image_002/FangYuanDemo.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;ä¸ä½¿ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹å¸ƒå±€æ–¹å¼ï¼š&quot;&gt;&lt;a href=&quot;#ä¸ä½¿ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹å¸ƒå±€æ–¹å¼ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸ä½¿ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹å¸ƒå±€æ–¹å¼ï¼š&quot;&gt;&lt;/a&gt;ä¸ä½¿ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹å¸ƒå±€æ–¹å¼ï¼š&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;class ViewController: UIViewController {

    let testView_A = UILabel()

    let testView_B = UILabel()

    override func viewDidLoad() {
        super.viewDidLoad()

        view.addSubview(testView_A)
        view.addSubview(testView_B)

        testView_A.text = &amp;quot;testView_A&amp;quot;
        testView_B.text = &amp;quot;testView_B&amp;quot;

        var frameA = CGRectZero
        frameA.origin.x = 30
        frameA.origin.y = 30
        frameA.size.width = UIScreen.mainScreen().bounds.size.width - frameA.origin.x - 30
        frameA.size.height = 100
        testView_A.frame = frameA

        var frameB = CGRectZero
        frameB.origin.x = testView_A.frame.origin.x
        frameB.origin.y = testView_A.frame.origin.y + testView_A.frame.size.height + 25
        frameB.size.width = UIScreen.mainScreen().bounds.size.width - testView_A.frame.origin.x - (testView_A.superview!.frame.size.width - (testView_A.frame.origin.x + testView_A.frame.size.width)) - 10
        frameB.size.height = UIScreen.mainScreen().bounds.size.height - frameB.origin.y - 30
        testView_B.frame = frameB


        testView_A.backgroundColor = UIColor.redColor()
        testView_B.backgroundColor = UIColor.blueColor()
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨ FangYuanï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;import UIKit
import Halo

class ViewController: UIViewController {

    let testView_A = UILabel()

    let testView_B = UILabel()

    override func viewDidLoad() {
        super.viewDidLoad()

        view.addSubview(testView_A)
        view.addSubview(testView_B)

        testView_A.text = &amp;quot;testView_A&amp;quot;
        testView_B.text = &amp;quot;testView_B&amp;quot;

        //    ------- ä¸»è¦å˜åŒ– -------

        testView_A
            .top(30)
            .right(30)
            .height(100)
            .left(30)

        testView_B
            .top(testView_A.chainBottom + 25)
            .left(testView_A.left)
            .right(testView_A.right + 10)
            .bottom(30)

        //    ---------------------

        testView_A.backgroundColor = UIColor.redColor()
        testView_B.backgroundColor = UIColor.blueColor()
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ° FangYuan èƒ½ç®€åŒ–å¾ˆå¤šä»£ç ï¼Œå°±ç®—æ˜¯å’Œ Masonry ç›¸æ¯”ï¼Œä¹Ÿèƒ½çœä¸‹ä¸å°‘ä»£ç ï¼ŒåŒæ—¶ä¹Ÿè¿˜èƒ½å®ç°åŒæ ·çš„æ•ˆæœ&lt;/p&gt;
&lt;h5 id=&quot;FangYuan-çš„ç¼ºç‚¹&quot;&gt;&lt;a href=&quot;#FangYuan-çš„ç¼ºç‚¹&quot; class=&quot;headerlink&quot; title=&quot;FangYuan çš„ç¼ºç‚¹&quot;&gt;&lt;/a&gt;FangYuan çš„ç¼ºç‚¹&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;éœ€è¦çŸ¥é“åœ¨&lt;code&gt;UIView.superView&lt;/code&gt;å­˜åœ¨æ—¶æ‰æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;FangYuan çš„è¯¸å¤šæ–¹æ³•éœ€è¦åœ¨&lt;code&gt;layoutSubviews&lt;/code&gt;æˆ–&lt;code&gt;viewWillLayoutSubviews&lt;/code&gt;è°ƒç”¨æ‰èƒ½ä¿è¯éš&lt;code&gt;superView.frame&lt;/code&gt;çš„å˜åŒ–è€Œå˜åŒ–ï¼Œæ¯”å¦‚ä¸Šè¿°ä»£ç çš„ViewControllerå¤–å¦‚æœåµŒå¥—åœ¨ä¸€ä¸ª NavigationControllerä¸­ï¼Œä¼šå‡ºç°è¿™ç§æƒ…å†µï¼ˆå› ä¸ºFangYuançš„æ–¹æ³•å†™åœ¨äº†&lt;code&gt;viewDidLoad&lt;/code&gt;ä¸­ï¼‰ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/image_002/badDemo.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;FangYuan-çš„ä½¿ç”¨æƒ…å†µ&quot;&gt;&lt;a href=&quot;#FangYuan-çš„ä½¿ç”¨æƒ…å†µ&quot; class=&quot;headerlink&quot; title=&quot;FangYuan çš„ä½¿ç”¨æƒ…å†µ&quot;&gt;&lt;/a&gt;FangYuan çš„ä½¿ç”¨æƒ…å†µ&lt;/h5&gt;&lt;p&gt;æˆ‘åœ¨æœ€è¿‘çš„ä¸€ä¸ª&lt;a href=&quot;https://itunes.apple.com/cn/app/quan-min-mo-te-ti-gong-gao/id1086009210?mt=8&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;é¡¹ç›®&lt;/a&gt;ä¸­ï¼Œ&lt;strong&gt;ä»…ä»…&lt;/strong&gt;ä½¿ç”¨äº† Halo.FangYuan å°±å®ç°äº†æ•´ä¸ªé¡¹ç›®çš„å¸ƒå±€ğŸ˜&lt;/p&gt;
&lt;h3 id=&quot;å¦‚ä½•åœ¨ä½ çš„é¡¹ç›®ä¸­é›†æˆ-Halo-framework&quot;&gt;&lt;a href=&quot;#å¦‚ä½•åœ¨ä½ çš„é¡¹ç›®ä¸­é›†æˆ-Halo-framework&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•åœ¨ä½ çš„é¡¹ç›®ä¸­é›†æˆ Halo.framework&quot;&gt;&lt;/a&gt;å¦‚ä½•åœ¨ä½ çš„é¡¹ç›®ä¸­é›†æˆ Halo.framework&lt;/h3&gt;&lt;h4 id=&quot;Carthage&quot;&gt;&lt;a href=&quot;#Carthage&quot; class=&quot;headerlink&quot; title=&quot;Carthage&quot;&gt;&lt;/a&gt;Carthage&lt;/h4&gt;&lt;p&gt;1ã€ç›´æ¥åœ¨&lt;a href=&quot;https://github.com/HaloWang/Halo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;ä¸‹è½½ä¸‹æ¥æ•´ä¸ªé¡¹ç›®&lt;br&gt;2ã€æ‰“å¼€ç»ˆç«¯&lt;br&gt;3ã€cd [è§£å‹ç¼©åçš„å·¥ç¨‹ç›®å½•]&lt;br&gt;4ã€carthage build â€“no-skip-current&lt;br&gt;5ã€åœ¨å·¥ç¨‹ç›®å½•ä¸­ Carthage/Build/iOS/ ä¸­æ‰¾åˆ° Halo.framework&lt;br&gt;6ã€æ¥ä¸‹æ¥å°±æ˜¯å°† Halo.framework é›†æˆåˆ°ä½ çš„å·¥ç¨‹ä¸­äº†ï¼Œç›¸ä¿¡å¤§å®¶çœ‹åˆ°è¿™é‡Œï¼Œåº”è¯¥éƒ½è‚¯å®šä¼šçš„å§~&lt;/p&gt;
&lt;h4 id=&quot;Cocoapods&quot;&gt;&lt;a href=&quot;#Cocoapods&quot; class=&quot;headerlink&quot; title=&quot;Cocoapods&quot;&gt;&lt;/a&gt;Cocoapods&lt;/h4&gt;&lt;p&gt;ç›´æ¥ä½¿ç”¨ &lt;code&gt;pod &amp;#39;Halo&amp;#39;&lt;/code&gt;ï¼Œä¸è¦å¿˜è®° &lt;code&gt;use_frameworks!&lt;/code&gt;~&lt;/p&gt;
&lt;h4 id=&quot;ä¸Šçº¿åˆ°-AppStore-æ—¶çš„å‘&quot;&gt;&lt;a href=&quot;#ä¸Šçº¿åˆ°-AppStore-æ—¶çš„å‘&quot; class=&quot;headerlink&quot; title=&quot;ä¸Šçº¿åˆ° AppStore æ—¶çš„å‘&quot;&gt;&lt;/a&gt;ä¸Šçº¿åˆ° AppStore æ—¶çš„å‘&lt;/h4&gt;&lt;p&gt;ä½¿ç”¨ä¸Šè¿°æ–¹æ³•é›†æˆçš„ Halo.framework åœ¨ï¼ˆä¸”ä»…åœ¨ï¼‰ä¸Šä¼ è‡³ AppStore æ—¶ä¼šå‡ºé”™ï¼ŒåŸå› æ˜¯å°† Halo.framework ä¸­å¤šä½™çš„ Architectures æ‰“åŒ…è¿›äº†ç´¢è¦ä¸Šä¼ çš„åº”ç”¨ç¨‹åºåŒ…ä¸­ï¼Œè§£å†³æ–¹æ¡ˆå¤§å®¶å¯ä»¥å‚ç…§&lt;a href=&quot;http://ikennd.ac/blog/2015/02/stripping-unwanted-architectures-from-dynamic-libraries-in-xcode/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;æˆ–è€…&lt;a href=&quot;http://stackoverflow.com/questions/35240330/errors-building-xcode-project-after-adding-in-run-script-fatal-error-lipo-inpu/35240555&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Stackoverflow&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å›§ï¼Œè¿™ä¸ªåˆ†æ˜æ˜¯æˆ‘çš„é”…å•Šï¼Œæœ‰æ—¶é—´ä¸€å®šè§£å†³ï¼&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;h4 id=&quot;ç°åœ¨&quot;&gt;&lt;a href=&quot;#ç°åœ¨&quot; class=&quot;headerlink&quot; title=&quot;ç°åœ¨&quot;&gt;&lt;/a&gt;ç°åœ¨&lt;/h4&gt;&lt;p&gt;æ€»å¾—æ¥è¯´ï¼ŒHalo.framework æ˜¯å¾ˆå¤šå°å·¥å…·çš„é›†åˆï¼Œæˆ‘æœ¬ç€å¿«æ·ã€é«˜æ•ˆã€ä»£ç ç¾è§‚ã€æ„ä¹‰æ˜æ™°çš„æƒ³æ³•å»è®¾è®¡å‘å…¶ä¸­ä¸æ–­æ•´åˆä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;å¹³æ—¶å†™é¡¹ç›®ï¼Œå†™Demoæ„Ÿè§‰æ ¹æœ¬ç¦»ä¸å¼€~ä¸è¿‡ï¼Œç›¸æ¯”äºç½‘ä¸ŠçŸ¥åçš„ç¬¬ä¸‰æ–¹åº“æ¥è¯´ï¼Œå°±ç¾¸å¼±å¾ˆå¤šäº†ğŸ˜“&lt;/p&gt;
&lt;h4 id=&quot;å°†æ¥&quot;&gt;&lt;a href=&quot;#å°†æ¥&quot; class=&quot;headerlink&quot; title=&quot;å°†æ¥&quot;&gt;&lt;/a&gt;å°†æ¥&lt;/h4&gt;&lt;p&gt;æœ€è¿‘è¯»äº†å–µç¥çš„&lt;a href=&quot;https://onevcat.com/2016/01/create-framework/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¦‚ä½•æ‰“é€ ä¸€ä¸ªè®©äººæ„‰å¿«çš„æ¡†æ¶&lt;/a&gt;ï¼Œæ„Ÿè§‰è‡ªå·±çš„ Halo å³ä¾¿ä»…ä»…æ˜¯ä¸ªäººä½¿ç”¨ï¼Œä¹Ÿæœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ è¿˜æ²¡æœ‰å¯¹ FangYuan è¿›è¡Œè¿‡æ€§èƒ½ä¼˜åŒ–å•Šï¼Ÿ&lt;/li&gt;
&lt;li&gt;FangYuan ä¸€å®šè¦åœ¨&lt;code&gt;layoutSubviews&lt;/code&gt;æˆ–&lt;code&gt;viewWillLayoutSubviews&lt;/code&gt;æ‰èƒ½ä¿è¯ä½¿ç”¨FangYuançš„&lt;code&gt;UIView&lt;/code&gt;çš„&lt;code&gt;superView&lt;/code&gt;ä¸€å®šå­˜åœ¨å—ï¼Ÿæ‰èƒ½ä¿è¯ä»»ä½• frame å˜åŠ¨æ—¶ï¼Œçº¦æŸéƒ½èƒ½ç”Ÿæ•ˆå—ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥åˆ©ç”¨ runtime åšä¸€äº›äº‹æƒ…å‘¢ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä¹¦å†™é“¾å¼è¯­æ³•æ—¶ï¼Œåœ¨ä»£ç è‡ªåŠ¨è¡¥é½æ–¹é¢ï¼Œæ€»æ˜¯è·Ÿ UIKit åŸæœ‰çš„å±æ€§ç›¸å†²çªï¼Œä¸ºäº†å¿«é€Ÿä¹¦å†™ï¼Œä¹Ÿä¸ºäº†é¿å…å’Œå…¶ä»–ç¬¬ä¸‰æ–¹åº“äº§ç”Ÿå¯èƒ½çš„å†²çªï¼Œæ˜¯ä¸æ˜¯åº”è¯¥æ·»åŠ å‰ç¼€ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰æœºä¼šçš„è¯ï¼Œæˆ‘ä¸€å®šä¼šä¸æ–­ç§¯ç´¯ä¸‹å»çš„ï¼&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h3&gt;&lt;p&gt;Halo æ˜¯æˆ‘ä½¿ç”¨ Swift å¼€å‘ iOS åº”ç”¨ä¸€å¹´ä¸‹æ¥æ‰€ç§¯ç´¯çš„ä¸€ä¸ªå·¥å…·åº“ï¼ˆå½“ç„¶ä¹Ÿä¼šæœ‰äº›ä»¥å‰ ObjC çš„â€œé—è€â€ï¼‰ï¼Œè¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä¼šç®€å•è¯´
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>åœ¨ Swift ç¯å¢ƒä¸‹ä½¿ç”¨ JavaScriptCore å’Œæœ¬åœ°ä»£ç äº¤äº’</title>
    <link href="http://yoursite.com/2016/03/01/%E5%9C%A8%20Swift%20%E7%8E%AF%E5%A2%83%E4%B8%8B%E4%BD%BF%E7%94%A8%20JavaScriptCore%20%E5%92%8C%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%A0%81%E4%BA%A4%E4%BA%92/"/>
    <id>http://yoursite.com/2016/03/01/åœ¨ Swift ç¯å¢ƒä¸‹ä½¿ç”¨ JavaScriptCore å’Œæœ¬åœ°ä»£ç äº¤äº’/</id>
    <published>2016-03-01T15:36:50.000Z</published>
    <updated>2016-03-09T16:37:27.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ€è¿‘è¢«é—®èµ·è¿™æ ·çš„é—®é¢˜ï¼Œæ‰€ä»¥æŠŠè‡ªå·±çŸ¥é“çš„å†™å‡ºæ¥&lt;br&gt;åŒ…æ‹¬ Web ç«¯è°ƒç”¨ Native å’Œ Native è°ƒç”¨ Webï¼Œç®—æ˜¯è®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;h3 id=&quot;å¦‚æœä½ æƒ³ç›´æ¥çœ‹æºç &quot;&gt;&lt;a href=&quot;#å¦‚æœä½ æƒ³ç›´æ¥çœ‹æºç &quot; class=&quot;headerlink&quot; title=&quot;å¦‚æœä½ æƒ³ç›´æ¥çœ‹æºç &quot;&gt;&lt;/a&gt;å¦‚æœä½ æƒ³ç›´æ¥çœ‹æºç &lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/HaloWang/JavaScriptCoreDemo/blob/master/finish.zip?raw=true&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;æ˜¯é¡¹ç›®çš„å®Œæ•´ä»£ç &lt;/p&gt;
&lt;h3 id=&quot;å‡†å¤‡&quot;&gt;&lt;a href=&quot;#å‡†å¤‡&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡&quot;&gt;&lt;/a&gt;å‡†å¤‡&lt;/h3&gt;&lt;p&gt;è¯·å¤§å®¶å…ˆä¸‹è½½&lt;a href=&quot;https://github.com/HaloWang/JavaScriptCoreDemo/blob/master/begin.zip?raw=true&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åˆå§‹é¡¹ç›®&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä½¿ç”¨ Xcode 7.2.1 + Swiftï¼Œæœ€ä½å…¼å®¹ iOS 8.0&lt;/p&gt;
&lt;h4 id=&quot;å…ˆæ¥çœ‹çœ‹åˆå§‹é¡¹ç›®&quot;&gt;&lt;a href=&quot;#å…ˆæ¥çœ‹çœ‹åˆå§‹é¡¹ç›®&quot; class=&quot;headerlink&quot; title=&quot;å…ˆæ¥çœ‹çœ‹åˆå§‹é¡¹ç›®&quot;&gt;&lt;/a&gt;å…ˆæ¥çœ‹çœ‹åˆå§‹é¡¹ç›®&lt;/h4&gt;&lt;h5 id=&quot;ViewController-swift&quot;&gt;&lt;a href=&quot;#ViewController-swift&quot; class=&quot;headerlink&quot; title=&quot;ViewController.swift&quot;&gt;&lt;/a&gt;ViewController.swift&lt;/h5&gt;&lt;p&gt;ViewController.swift ä¸»è¦é…åˆ Main.storyboard ç»˜åˆ¶äº† UI å…ƒç´ &lt;br&gt;æ¥ä¸‹æ¥ç»å¤§éƒ¨åˆ†ä»£ç å·¥ä½œå°†åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œ&lt;br&gt;&lt;code&gt;viewDidLoad&lt;/code&gt;æ–¹æ³•ä¸­ä¸»è¦æ˜¯è®© webView åŠ è½½ Bundle ä¸­çš„ html æ–‡ä»¶&lt;br&gt;&lt;img src=&quot;/image_001/viewController.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;JavaScriptCoreDemo-html&quot;&gt;&lt;a href=&quot;#JavaScriptCoreDemo-html&quot; class=&quot;headerlink&quot; title=&quot;JavaScriptCoreDemo.html&quot;&gt;&lt;/a&gt;JavaScriptCoreDemo.html&lt;/h5&gt;&lt;p&gt;è¿™ä¸ªæ–‡ä»¶ä¸»è¦ç”¨æ¥æ¨¡æ‹Ÿå®é™…ä½¿ç”¨æ—¶æˆ‘ä»¬ä¼šé‡åˆ°çš„ web é¡µé¢&lt;br&gt;&lt;img src=&quot;/image_001/webPage.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Web-ç«¯è°ƒç”¨-iOS-ç«¯ä»£ç &quot;&gt;&lt;a href=&quot;#Web-ç«¯è°ƒç”¨-iOS-ç«¯ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;Web ç«¯è°ƒç”¨ iOS ç«¯ä»£ç &quot;&gt;&lt;/a&gt;Web ç«¯è°ƒç”¨ iOS ç«¯ä»£ç &lt;/h3&gt;&lt;p&gt;æˆ‘å°†å…¶åˆ†ä¸ºäº†å¦‚ä¸‹æ­¥éª¤&lt;/p&gt;
&lt;h4 id=&quot;ä¸º-WebView-æ³¨å†Œä»£ç†ï¼Œå¹¶å®ç°ä»£ç†æ–¹æ³•&quot;&gt;&lt;a href=&quot;#ä¸º-WebView-æ³¨å†Œä»£ç†ï¼Œå¹¶å®ç°ä»£ç†æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;ä¸º WebView æ³¨å†Œä»£ç†ï¼Œå¹¶å®ç°ä»£ç†æ–¹æ³•&quot;&gt;&lt;/a&gt;ä¸º WebView æ³¨å†Œä»£ç†ï¼Œå¹¶å®ç°ä»£ç†æ–¹æ³•&lt;/h4&gt;&lt;p&gt;&lt;code&gt;webView.delegate = self&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;extension ViewController : UIWebViewDelegate {
    func webViewDidFinishLoad(webView: UIWebView) {
        //    Waiting
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;è·å–åˆ°å½“å‰-Web-é¡µé¢ä¸­çš„ä¸Šä¸‹æ–‡&quot;&gt;&lt;a href=&quot;#è·å–åˆ°å½“å‰-Web-é¡µé¢ä¸­çš„ä¸Šä¸‹æ–‡&quot; class=&quot;headerlink&quot; title=&quot;è·å–åˆ°å½“å‰ Web é¡µé¢ä¸­çš„ä¸Šä¸‹æ–‡&quot;&gt;&lt;/a&gt;è·å–åˆ°å½“å‰ Web é¡µé¢ä¸­çš„ä¸Šä¸‹æ–‡&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;func webViewDidFinishLoad(webView: UIWebView) {
    context = webView.valueForKeyPath(&amp;quot;documentView.webView.mainFrame.javaScriptContext&amp;quot;) as? JSContext
    //    Waiting
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;æ³¨å†Œå›è°ƒ&quot;&gt;&lt;a href=&quot;#æ³¨å†Œå›è°ƒ&quot; class=&quot;headerlink&quot; title=&quot;æ³¨å†Œå›è°ƒ&quot;&gt;&lt;/a&gt;æ³¨å†Œå›è°ƒ&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;func webViewDidFinishLoad(webView: UIWebView) {

    context = webView.valueForKeyPath(&amp;quot;documentView.webView.mainFrame.javaScriptContext&amp;quot;) as? JSContext

    let callBack : @convention(block) (AnyObject?) -&amp;gt; Void = { [weak self] (paramFromJS) -&amp;gt; Void in
        //    Waiting
     }

    context?.setObject(unsafeBitCast(callBack, AnyObject.self), forKeyedSubscript: &amp;quot;callNative&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;å±•ç¤º-Web-é¡µé¢ä¼ é€’è¿‡æ¥çš„çš„å‚æ•°&quot;&gt;&lt;a href=&quot;#å±•ç¤º-Web-é¡µé¢ä¼ é€’è¿‡æ¥çš„çš„å‚æ•°&quot; class=&quot;headerlink&quot; title=&quot;å±•ç¤º Web é¡µé¢ä¼ é€’è¿‡æ¥çš„çš„å‚æ•°&quot;&gt;&lt;/a&gt;å±•ç¤º Web é¡µé¢ä¼ é€’è¿‡æ¥çš„çš„å‚æ•°&lt;/h4&gt;&lt;p&gt;æœ€åæˆ‘ä»¬éœ€è¦é€šçŸ¥è‡ªå·±åŸç”Ÿä»£ç å·²ç»æ¥å—åˆ°äº† web ç«¯çš„è°ƒç”¨ï¼Œå¹¶ä¸”è¾“å‡ºä¸€ä¸‹ web é¡µé¢ä¼ é€’è¿‡æ¥äº†å‚æ•°&lt;/p&gt;
&lt;p&gt;åœ¨ ViewController ç±»ä¸­ï¼Œå®ç° fromJS æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func fromJS(paramFromJS:AnyObject?) {

    Alert
        .showIn(self)
        .style(UIAlertControllerStyle.ActionSheet)
        .title(&amp;quot;Call From JS&amp;quot;)
        .message(&amp;quot;æ£€æµ‹åˆ°äº†æ¥è‡ª JS çš„è°ƒç”¨ï¼&amp;quot;)
        .addAction(&amp;quot;æˆ‘çŸ¥é“äº†&amp;quot;, style: .Cancel, handler: nil)

    guard let paramFromJS = paramFromJS else {
        return
    }

    print(&amp;quot;param from JavaScript is:&amp;quot;)
    print(paramFromJS)

}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…¶ä¸­ Alert ç±»æ¥è‡ªäº Halo.frameworkï¼Œç”¨æ¥é€šçŸ¥è‡ªå·±åŸç”Ÿä»£ç å·²ç»æ¥å—åˆ°äº† web ç«¯çš„è°ƒç”¨ï¼Œå¯¹ UIAlertController åšäº†ç®€å•çš„å°è£…ï¼Œä¸å¿…å…³å¿ƒ&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šä¸€æ­¥ä¸­çš„ &lt;code&gt;Waiting&lt;/code&gt; æ³¨é‡Šå¤„è°ƒç”¨&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;let callBack : @convention(block) (AnyObject?) -&amp;gt; Void = { [weak self] (paramFromJS) -&amp;gt; Void in
    self?.fromJS(paramFromJS)    
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt; è¿™é‡Œçš„ self (ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ ViewController) ä¸­è¢«åŠ ä¸Šäº† weak ä¿®é¥°ç¬¦ï¼Œè¿™æ˜¯å› ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;context?.setObject(unsafeBitCast(callBack, AnyObject.self), forKeyedSubscript: &amp;quot;callNative&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;context ä¼šå¼ºå¼•ç”¨è¿™ä¸ªå›è°ƒå—ï¼Œä¸ºäº†é¿å…å¼ºå¼•ç”¨ï¼Œæˆ‘ä»¬éœ€è¦å°† self åœ¨ block ä¸­å£°æ˜ä¸ºå¼±å¼•ç”¨&lt;/p&gt;
&lt;p&gt;è‡³äº @convention(block) ï¼Œå¤§å®¶å¯ä»¥å‚çœ‹&lt;a href=&quot;http://stackoverflow.com/questions/32776342/how-to-store-this-objectivec-block-inside-a-swift-variable&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;PS: è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šé¢çš„ä»£ç å¤§å®¶æ˜¯ä¸æ˜¯æœ‰ç‚¹å®³æ€•ï¼Ÿä¼˜é›…çš„ Swift æ€ä¹ˆä¼šå‡ºç° &lt;code&gt;unsafeBitCast(callBack, AnyObject.self)&lt;/code&gt; è¿™æ ·çš„ä»£ç ï¼å¤§å®¶å¯ä»¥çœ‹çœ‹ &lt;a href=&quot;http://nshipster.cn/javascriptcore&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;br&gt;æœŸå¾… iOS10 SDK ä¸­ Swift ç¯å¢ƒä¸‹ï¼ŒJSContext å¯ä»¥å®ç°ä¸‹æ ‡è®¿é—®&lt;/p&gt;
&lt;p&gt;PS2: å¦å¤–ï¼Œæˆ‘åœ¨è¿™é‡Œå°† paramFromJS å£°æ˜ä¸ºäº† AnyObject? ç±»å‹ï¼ŒJavaScriptCore æ˜¯å¯ä»¥è‡ªåŠ¨å°† js ä¼ é€’çš„å‚æ•°åšè½¬æ¢çš„ï¼Œä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;print(paramFromJS!.dynamicType)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥å‘ç° paramFromJS è¢«è½¬åŒ–ä¸ºäº†&lt;code&gt;__NSDictionaryM&lt;/code&gt;&lt;br&gt;å…³äº dynamicTypeï¼Œè¯·çœ‹&lt;a href=&quot;http://swifter.tips/instance-type/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿è¡Œç¨‹åº&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/image_001/consolo.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡æ‹Ÿå™¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/image_001/callNative.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;iOS-ç«¯è°ƒç”¨-Web-çš„-js-ä»£ç &quot;&gt;&lt;a href=&quot;#iOS-ç«¯è°ƒç”¨-Web-çš„-js-ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;iOS ç«¯è°ƒç”¨ Web çš„ js ä»£ç &quot;&gt;&lt;/a&gt;iOS ç«¯è°ƒç”¨ Web çš„ js ä»£ç &lt;/h3&gt;&lt;p&gt;å¯ä»¥åˆ†ä¸ºä¸¤ç§æ–¹å¼&lt;/p&gt;
&lt;h4 id=&quot;è°ƒç”¨-Web-é¡µé¢ä¸­å·²ç»å®ç°å¥½çš„-JS&quot;&gt;&lt;a href=&quot;#è°ƒç”¨-Web-é¡µé¢ä¸­å·²ç»å®ç°å¥½çš„-JS&quot; class=&quot;headerlink&quot; title=&quot;è°ƒç”¨ Web é¡µé¢ä¸­å·²ç»å®ç°å¥½çš„ JS&quot;&gt;&lt;/a&gt;è°ƒç”¨ Web é¡µé¢ä¸­å·²ç»å®ç°å¥½çš„ JS&lt;/h4&gt;&lt;p&gt;æˆ‘ä»¬çš„ web é¡µé¢ä¸­åŒ…å«äº†ä¸€æ®µå·²ç»å†™å¥½çš„ JavaScript functionï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function fromNative(args) {
    document.getElementById(&amp;quot;fromNativeParan&amp;quot;).innerHTML = &amp;quot;æ¥è‡ªåŸç”Ÿä»£ç çš„å‚æ•°ä¸º&amp;quot; + args;
};
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ JavaScriptContext ç›´æ¥å¯¹å…¶è¿›è¡Œè°ƒç”¨ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ ViewController ç±»ä¸­ï¼Œå®ç° callJS æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func callJS() {
    let params : [AnyObject]! = [&amp;quot;Hello JS! \(arc4random() % 10)&amp;quot;]
    context?.objectForKeyedSubscript(&amp;quot;fromNative&amp;quot;).callWithArguments(params)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;em&gt;arc4random() % 10 çš„ä½œç”¨æ˜¯ä¸ºäº†äº§ç”Ÿéšæœºå–ä»¥åŒºåˆ†å¤šæ¬¡ç‚¹å‡»&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ rightBarButtonClick ä¸­è°ƒç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@IBAction func rightBarButtonClick(sender: UIBarButtonItem) {
    callJS()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;web é¡µé¢äº§ç”Ÿäº†å¦‚ä¸‹å˜åŒ–ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/image_001/callJS.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;ç›´æ¥æ³¨å…¥ä¸€æ®µ-JS-ä»£ç &quot;&gt;&lt;a href=&quot;#ç›´æ¥æ³¨å…¥ä¸€æ®µ-JS-ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;ç›´æ¥æ³¨å…¥ä¸€æ®µ JS ä»£ç &quot;&gt;&lt;/a&gt;ç›´æ¥æ³¨å…¥ä¸€æ®µ JS ä»£ç &lt;/h4&gt;&lt;p&gt;åœ¨ ViewController ç±»ä¸­ï¼Œå®ç° evaluateJS æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func evaluateJS() {
    context?.evaluateScript(&amp;quot;alert(\&amp;quot;ä½ è°ƒç”¨äº† JS\&amp;quot;)&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨ rightBarButtonClick ä¸­è°ƒç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@IBAction func rightBarButtonClick(sender: UIBarButtonItem) {
    evaluateJS()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ•ˆæœå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/image_001/callJS_2.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;PS: å®é™…ä¸Š evaluateJS è¿˜å¯ä»¥å°åŸä¸‹é¢è¿™ç§å½¢å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func evaluateJS() {
    context?.evaluateScript(&amp;quot;fromNative(&amp;apos; ä½ è¿è¡Œäº†ä¸€æ®µJS&amp;apos;)&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ—¶è¯¥æ–¹æ³•çš„ä½œç”¨å’Œ ViewController.callJS å°±ä¸€æ ·äº†&lt;/p&gt;
&lt;h3 id=&quot;æœ€å&quot;&gt;&lt;a href=&quot;#æœ€å&quot; class=&quot;headerlink&quot; title=&quot;æœ€å&quot;&gt;&lt;/a&gt;æœ€å&lt;/h3&gt;&lt;p&gt;å†æ¬¡é™„ä¸Šé¡¹ç›®çš„&lt;a href=&quot;https://github.com/HaloWang/JavaScriptCoreDemo/blob/master/finish.zip?raw=true&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®Œæ•´ä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;é¢˜å¤–è¯&quot;&gt;&lt;a href=&quot;#é¢˜å¤–è¯&quot; class=&quot;headerlink&quot; title=&quot;é¢˜å¤–è¯&quot;&gt;&lt;/a&gt;é¢˜å¤–è¯&lt;/h4&gt;&lt;p&gt;æœ¬æ¥è¿˜æƒ³å†™ç‚¹ WKWebView çš„ä¸œè¥¿ï¼Œä½†é‰´äºè‡ªå·±ä»¥å‰çš„ä½¿ç”¨ç»å†ï¼Œè¿˜æ˜¯ç®—äº†â€¦&lt;br&gt;ç®€å•è¯´ä¸€ä¸‹ä½¿ç”¨ WKWebView é‡åˆ°çš„å‘å§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ— æ³•é€šè¿‡ç‚¹å‡» web é¡µé¢è·³è½¬åˆ° AppStoreï¼Œ&lt;a href=&quot;http://stackoverflow.com/questions/29056854/how-can-i-understand-if-uiapplication-is-going-to-open-link-in-safari-app&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åœ¨æ·˜å®é¡µé¢æ—¶æ— æ³•ç‚¹å‡» web é¡µé¢ä¸Šçš„æŒ‰é’®ï¼Œ&lt;a href=&quot;http://stackoverflow.com/questions/31955880/wkwebview-not-opening-some-target-blank-links&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;web é¡µé¢çš„ alert åœ¨ç§»åŠ¨ç«¯ä¸Šå¤±æ•ˆï¼Œ&lt;a href=&quot;http://stackoverflow.com/questions/26898941/ios-wkwebview-not-showing-javascript-alert-dialog&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯ä¸ªéƒ½æ˜¯è¶…çº§ä¸¥é‡çš„ bug æœ‰æ²¡æœ‰ï¼&lt;br&gt;åœ¨äº§å“ç»ç†é¢å‰ç›´å†’å†·æ±—æœ‰æ²¡æœ‰ï¼&lt;/p&gt;
&lt;h4 id=&quot;ç›¸å…³é“¾æ¥&quot;&gt;&lt;a href=&quot;#ç›¸å…³é“¾æ¥&quot; class=&quot;headerlink&quot; title=&quot;ç›¸å…³é“¾æ¥&quot;&gt;&lt;/a&gt;ç›¸å…³é“¾æ¥&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://nshipster.cn/javascriptcore/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSHipster - JavaScriptCore&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘è¢«é—®èµ·è¿™æ ·çš„é—®é¢˜ï¼Œæ‰€ä»¥æŠŠè‡ªå·±çŸ¥é“çš„å†™å‡ºæ¥&lt;br&gt;åŒ…æ‹¬ Web ç«¯è°ƒç”¨ Native å’Œ Native è°ƒç”¨ Webï¼Œç®—æ˜¯è®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;h3 id=&quot;å¦‚æœä½ æƒ³ç›´æ¥çœ‹æºç &quot;&gt;&lt;a href=&quot;#å¦‚æœä½ æƒ³ç›´æ¥çœ‹æºç &quot; class=&quot;headerlink&quot; title=&quot;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å†™ç‚¹ä»€ä¹ˆå¥½å‘¢ï¼Ÿ</title>
    <link href="http://yoursite.com/2016/03/01/first-article/"/>
    <id>http://yoursite.com/2016/03/01/first-article/</id>
    <published>2016-03-01T12:30:26.000Z</published>
    <updated>2016-03-01T15:32:48.000Z</updated>
    
    <content type="html">&lt;p&gt;æ­£å¼å¼€å¯äº†ä¸ªäººåšå®¢ğŸ˜&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›æˆ‘æƒ³å†™çš„ä¸œè¥¿&lt;/p&gt;
&lt;h3 id=&quot;Halo-framework&quot;&gt;&lt;a href=&quot;#Halo-framework&quot; class=&quot;headerlink&quot; title=&quot;Halo.framework&quot;&gt;&lt;/a&gt;Halo.framework&lt;/h3&gt;&lt;p&gt;ä½¿ç”¨ Swift å¼€å‘ iOS App ä»¥æ¥æ‰€æ€»ç»“çš„ä¸œè¥¿&lt;/p&gt;
&lt;h3 id=&quot;JS-å’Œ-iOS-åŸç”Ÿäº¤äº’çš„è‹¥å¹²ç§æ–¹æ³•&quot;&gt;&lt;a href=&quot;#JS-å’Œ-iOS-åŸç”Ÿäº¤äº’çš„è‹¥å¹²ç§æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;JS å’Œ iOS åŸç”Ÿäº¤äº’çš„è‹¥å¹²ç§æ–¹æ³•&quot;&gt;&lt;/a&gt;JS å’Œ iOS åŸç”Ÿäº¤äº’çš„è‹¥å¹²ç§æ–¹æ³•&lt;/h3&gt;&lt;p&gt;æœ€è¿‘è¢«é—®èµ·è¿™æ ·çš„é—®é¢˜&lt;/p&gt;
&lt;h3 id=&quot;ä½¿ç”¨-Instrument&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-Instrument&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ Instrument&quot;&gt;&lt;/a&gt;ä½¿ç”¨ Instrument&lt;/h3&gt;&lt;p&gt;æ›¾ç»ä½¿ç”¨è¿‡ï¼Œç°åœ¨æ¥æ€»ç»“ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;æ•¬è¯·æœŸå¾…~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æ­£å¼å¼€å¯äº†ä¸ªäººåšå®¢ğŸ˜&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›æˆ‘æƒ³å†™çš„ä¸œè¥¿&lt;/p&gt;
&lt;h3 id=&quot;Halo-framework&quot;&gt;&lt;a href=&quot;#Halo-framework&quot; class=&quot;headerlink&quot; title=&quot;Halo.framework&quot;&gt;&lt;/a&gt;Halo.f
    
    </summary>
    
    
  </entry>
  
</feed>
